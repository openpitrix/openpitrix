# db_repo
`import "openpitrix.io/openpitrix/pkg/db/repo"`

* [Overview](#pkg-overview)
* [Imported Packages](#pkg-imports)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>

## <a name="pkg-imports">Imported Packages</a>

- [github.com/go-sql-driver/mysql](https://godoc.org/github.com/go-sql-driver/mysql)
- [github.com/pkg/errors](https://godoc.org/github.com/pkg/errors)
- [golang.org/x/net/context](https://godoc.org/golang.org/x/net/context)
- [gopkg.in/gorp.v2](https://godoc.org/gopkg.in/gorp.v2)
- [openpitrix.io/openpitrix/pkg/config](https://godoc.org/openpitrix.io/openpitrix/pkg/config)
- [openpitrix.io/openpitrix/pkg/logger](https://godoc.org/openpitrix.io/openpitrix/pkg/logger)

## <a name="pkg-index">Index</a>
* [Constants](#pkg-constants)
* [type Repo](#Repo)
* [type RepoDatabase](#RepoDatabase)
  * [func OpenRepoDatabase(cfg \*config.Database) (p \*RepoDatabase, err error)](#OpenRepoDatabase)
  * [func (p \*RepoDatabase) Close() error](#RepoDatabase.Close)
  * [func (p \*RepoDatabase) CreateRepo(ctx context.Context, app \*Repo) error](#RepoDatabase.CreateRepo)
  * [func (p \*RepoDatabase) DeleteRepo(ctx context.Context, id string) error](#RepoDatabase.DeleteRepo)
  * [func (p \*RepoDatabase) GetRepo(ctx context.Context, id string) (\*Repo, error)](#RepoDatabase.GetRepo)
  * [func (p \*RepoDatabase) GetRepoList(ctx context.Context) (apps []Repo, err error)](#RepoDatabase.GetRepoList)
  * [func (p \*RepoDatabase) TruncateTables() error](#RepoDatabase.TruncateTables)
  * [func (p \*RepoDatabase) UpdateRepo(ctx context.Context, app \*Repo) error](#RepoDatabase.UpdateRepo)

#### <a name="pkg-files">Package files</a>
[repo.go](./repo.go) 

## <a name="pkg-constants">Constants</a>
``` go
const (
    RepoTableName = "repo"
)
```

## <a name="Repo">type</a> [Repo](./repo.go#L25-L32)
``` go
type Repo struct {
    Id           string    `db:"id, size:50, primarykey"`
    Name         string    `db:"name, size:50"`
    Description  string    `db:"description, size:1000"`
    Url          string    `db:"url, size:255"`
    Created      time.Time `db:"created"`
    LastModified time.Time `db:"last_modified"`
}
```

## <a name="RepoDatabase">type</a> [RepoDatabase](./repo.go#L34-L38)
``` go
type RepoDatabase struct {
    // contains filtered or unexported fields
}
```

### <a name="OpenRepoDatabase">func</a> [OpenRepoDatabase](./repo.go#L40)
``` go
func OpenRepoDatabase(cfg *config.Database) (p *RepoDatabase, err error)
```

### <a name="RepoDatabase.Close">func</a> (\*RepoDatabase) [Close](./repo.go#L65)
``` go
func (p *RepoDatabase) Close() error
```

### <a name="RepoDatabase.CreateRepo">func</a> (\*RepoDatabase) [CreateRepo](./repo.go#L88)
``` go
func (p *RepoDatabase) CreateRepo(ctx context.Context, app *Repo) error
```

### <a name="RepoDatabase.DeleteRepo">func</a> (\*RepoDatabase) [DeleteRepo](./repo.go#L102)
``` go
func (p *RepoDatabase) DeleteRepo(ctx context.Context, id string) error
```

### <a name="RepoDatabase.GetRepo">func</a> (\*RepoDatabase) [GetRepo](./repo.go#L71)
``` go
func (p *RepoDatabase) GetRepo(ctx context.Context, id string) (*Repo, error)
```

### <a name="RepoDatabase.GetRepoList">func</a> (\*RepoDatabase) [GetRepoList](./repo.go#L81)
``` go
func (p *RepoDatabase) GetRepoList(ctx context.Context) (apps []Repo, err error)
```

### <a name="RepoDatabase.TruncateTables">func</a> (\*RepoDatabase) [TruncateTables](./repo.go#L109)
``` go
func (p *RepoDatabase) TruncateTables() error
```

### <a name="RepoDatabase.UpdateRepo">func</a> (\*RepoDatabase) [UpdateRepo](./repo.go#L95)
``` go
func (p *RepoDatabase) UpdateRepo(ctx context.Context, app *Repo) error
```

- - -
Generated by [godoc2ghmd](https://github.com/GandalfUK/godoc2ghmd)